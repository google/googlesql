[default required_features=JSON_TYPE,JSON_LAX_VALUE_EXTRACTION_FUNCTIONS,JSON_MORE_VALUE_EXTRACTION_FUNCTIONS]
[name=json_lax_float_integer_zero]
SELECT LAX_FLOAT(JSON '0');
--
ARRAY<STRUCT<FLOAT>>[{0}]
==
[name=json_lax_float_integer_positive]
SELECT LAX_FLOAT(JSON '1');
--
ARRAY<STRUCT<FLOAT>>[{1}]
==
[name=json_lax_float_integer_negative]
SELECT LAX_FLOAT(JSON '-1');
--
ARRAY<STRUCT<FLOAT>>[{-1}]
==
[name=json_lax_float_integer_number_positive]
SELECT LAX_FLOAT(JSON '1.0');
--
ARRAY<STRUCT<FLOAT>>[{1}]
==
[name=json_lax_float_integer_number_negative]
SELECT LAX_FLOAT(JSON '-1.0');
--
ARRAY<STRUCT<FLOAT>>[{-1}]
==
[name=json_float_integer_float_positive_threshold]
-- The biggest integer that can be represented without precision loss.
SELECT LAX_FLOAT(JSON '16777216');
--
ARRAY<STRUCT<FLOAT>>[{16777216}]
==
[name=json_float_integer_float_negative_threshold]
-- The smallest integer that can be represented without precision loss.
SELECT LAX_FLOAT(JSON '-16777216');
--
ARRAY<STRUCT<FLOAT>>[{-16777216}]
==
[name=json_lax_float_integer_float_overflow]
SELECT LAX_FLOAT(JSON '16777217');
--
ARRAY<STRUCT<FLOAT>>[{16777216}]
==
[name=json_lax_float_integer_float_underflow]
SELECT LAX_FLOAT(JSON '-16777217');
--
ARRAY<STRUCT<FLOAT>>[{-16777216}]
==
[name=json_lax_float_number_positive]
SELECT LAX_FLOAT(JSON '1.5');
--
ARRAY<STRUCT<FLOAT>>[{1.5}]
==
[name=json_lax_float_number_negative]
SELECT LAX_FLOAT(JSON '-1.5');
--
ARRAY<STRUCT<FLOAT>>[{-1.5}]
==
[name=json_lax_float_number_float_min]
SELECT LAX_FLOAT(JSON '1.17549e-38');
--
ARRAY<STRUCT<FLOAT>>[{1.17549e-38}]
==
[name=json_lax_float_number_float_lowest]
SELECT LAX_FLOAT(JSON '-3.40282e+38');
--
ARRAY<STRUCT<FLOAT>>[{-3.40282e+38}]
==
[name=json_lax_float_number_float_max]
SELECT LAX_FLOAT(JSON '3.40282e+38');
--
ARRAY<STRUCT<FLOAT>>[{3.40282e+38}]
==
[name=json_lax_float_number_float_underflow]
SELECT LAX_FLOAT(JSON '-3.402821e+38');
--
ARRAY<STRUCT<FLOAT>>[{-3.402821e+38}]
==
[name=json_lax_float_number_float_overflow]
SELECT LAX_FLOAT(JSON '3.402821e+38');
--
ARRAY<STRUCT<FLOAT>>[{3.402821e+38}]
==
[name=json_lax_float_number_big]
SELECT LAX_FLOAT(JSON '1e100');
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
==
[name=json_lax_float_sql_null]
SELECT LAX_FLOAT(NULL);
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
==
[name=json_lax_float_null]
SELECT LAX_FLOAT(JSON 'null');
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
==
[name=json_lax_float_bool_true]
SELECT LAX_FLOAT(JSON 'true');
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
==
[name=json_lax_float_bool_false]
SELECT LAX_FLOAT(JSON 'false');
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
==
[name=json_lax_float_string]
SELECT LAX_FLOAT(JSON '"foo"');
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
==
[name=json_lax_float_string_empty]
SELECT LAX_FLOAT(JSON '""');
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
==
[name=json_lax_float_string_integer_positive]
SELECT LAX_FLOAT(JSON '"1"');
--
ARRAY<STRUCT<FLOAT>>[{1}]
==
[name=json_lax_float_string_integer_negative]
SELECT LAX_FLOAT(JSON '"-1"');
--
ARRAY<STRUCT<FLOAT>>[{-1}]
==
[name=json_lax_float_string_number_positive]
SELECT LAX_FLOAT(JSON '"1.5"');
--
ARRAY<STRUCT<FLOAT>>[{1.5}]
==
[name=json_lax_float_string_number_negative]
SELECT LAX_FLOAT(JSON '"-1.5"');
--
ARRAY<STRUCT<FLOAT>>[{-1.5}]
==
[name=json_lax_float_array]
SELECT LAX_FLOAT(JSON '[1]');
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
==
[name=json_lax_float_object]
SELECT LAX_FLOAT(JSON '{"a":1}');
--
ARRAY<STRUCT<FLOAT>>[{NULL}]
