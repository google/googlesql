[default required_features=JSON_TYPE,JSON_CONTAINS_FUNCTION]

[name=scalar]
SELECT JSON_CONTAINS(JSON 'true', JSON 'true') as c1,
       JSON_CONTAINS(JSON 'true', JSON 'false') as c2,
       JSON_CONTAINS(JSON '1.0', JSON '1') as c3,
       JSON_CONTAINS(JSON '0', JSON '-0.0') as c4,
       JSON_CONTAINS(JSON '1.0', JSON '1.00') as c5,
       JSON_CONTAINS(JSON '"true"', JSON '"True"') as c6,
       JSON_CONTAINS(JSON '"true"', JSON '"true"') as c6,
       JSON_CONTAINS(JSON '"true"', JSON '1') as c7,
       JSON_CONTAINS(JSON 'null', JSON 'null') as c8,
       JSON_CONTAINS(JSON 'null', JSON '"null"') as c9
--
ARRAY<STRUCT<c1 BOOL,
             c2 BOOL,
             c3 BOOL,
             c4 BOOL,
             c5 BOOL,
             c6 BOOL,
             c6 BOOL,
             c7 BOOL,
             c8 BOOL,
             c9 BOOL>>[
  {true, false, true, true, true, false, true, false, true, false}
]
==

[name=empty_array_or_object]
SELECT JSON_CONTAINS(JSON '[]', JSON '[]') as c1,
       JSON_CONTAINS(JSON '[]', JSON '[[]]') as c2,
       JSON_CONTAINS(JSON '[[]]', JSON '[[]]') as c3,
       JSON_CONTAINS(JSON '[]', JSON '{}') as c4,
       JSON_CONTAINS(JSON '[]', JSON '[{}]') as c5,
       JSON_CONTAINS(JSON '{}', JSON '{}') as c6,
       JSON_CONTAINS(JSON '[]', JSON 'null') as c7,
       JSON_CONTAINS(JSON '{}', JSON 'null') as c8,
       JSON_CONTAINS(JSON '[null]', JSON 'null') as c9,
       JSON_CONTAINS(JSON '[null]', JSON '[null]') as c10
--
ARRAY<STRUCT<c1 BOOL,
             c2 BOOL,
             c3 BOOL,
             c4 BOOL,
             c5 BOOL,
             c6 BOOL,
             c7 BOOL,
             c8 BOOL,
             c9 BOOL,
             c10 BOOL>>[
  {true, false, true, false, false, true, false, false, true, true}
]
==

[name=basic_array_top_level]
SELECT JSON_CONTAINS(ary, JSON '[1]'), JSON_CONTAINS(ary, JSON '1'),
       JSON_CONTAINS(ary, JSON '[2]'), JSON_CONTAINS(ary, JSON '2'),
       JSON_CONTAINS(ary, JSON '[3]'), JSON_CONTAINS(ary, JSON '3'),
       JSON_CONTAINS(ary, JSON '[[3]]'), JSON_CONTAINS(ary, JSON '[[[3]]]'),
       JSON_CONTAINS(ary, JSON '[1,1]')
FROM (SELECT JSON '[1,2,[3,4,[5]],[6,7]]' as ary)
--
ARRAY<STRUCT<BOOL, BOOL, BOOL, BOOL, BOOL, BOOL, BOOL, BOOL, BOOL>>[
  {true, true, true, true, false, false, true, false, true}
]
==

[name=array_with_nested_array]
SELECT JSON_CONTAINS(ary, JSON '[[3,4,3]]'),
       JSON_CONTAINS(ary, JSON '[[4,3]]'),
       JSON_CONTAINS(ary, JSON '[[3,4,5]]'),
       JSON_CONTAINS(ary, JSON '[[3,4,6]]'),
       JSON_CONTAINS(ary, JSON '5'),
       JSON_CONTAINS(ary, JSON '[5]'),
       JSON_CONTAINS(ary, JSON '[[5]]'),
       JSON_CONTAINS(ary, JSON '[1,[5]]'),
       JSON_CONTAINS(ary, JSON '[3,[5]]'),
       JSON_CONTAINS(ary, JSON '[6,[5]]'),
       JSON_CONTAINS(ary, JSON '[[6],[[5]]]')
FROM (SELECT JSON '[1,2,[3,4,[5]],[6,7]]' as ary)
--
ARRAY<STRUCT<BOOL, BOOL, BOOL, BOOL, BOOL, BOOL, BOOL, BOOL, BOOL, BOOL, BOOL>>[
  {true, true, false, false, false, false, false, false, false, false, true}
]
==

[name=numbers_equality]
SELECT JSON_CONTAINS(JSON '0.0', JSON '-0.00') as c1,
       JSON_CONTAINS(JSON '9.007199254740994e+15', JSON '9007199254740994') as c2,
       JSON_CONTAINS(JSON '9.223372036854776e+18', JSON '9223372036854775808') as c3,
       JSON_CONTAINS(JSON '18446744073709551610', JSON '-6') as c4,
       JSON_CONTAINS(JSON '1.8446744073709552e+19', JSON '18446744073709551615') as c5,
       JSON_CONTAINS(JSON '9.007199254740994e+15', JSON '9007199254740993') as c6,
       JSON_CONTAINS(JSON '2.2250738585072014e-308', JSON '1.0') as c7
--
ARRAY<STRUCT<c1 BOOL, c2 BOOL, c3 BOOL, c4 BOOL, c5 BOOL, c6 BOOL, c7 BOOL>>[
  {true, true, true, false, false, false, false}
]
